<section class="hero-reservation-section">
    <img src="assets/images/Jardines.webp" alt="Fondo Finca" class="hero-background">
    <div class="hero-overlay"></div>

    <div class="hero-content">
        <img src="assets/logos/ISOTIPO.svg" alt="Logo" class="hero-logo">

        <p class="hero-label">
            <span class="decorative-line-side"></span>
            Hospedaje
            <span class="decorative-line-side"></span>
        </p>
        <h1 class="hero-title">Reservar</h1>

        <div class="decorative-line"></div>

        <p class="hero-subtitle">
            Encuentra las fechas disponibles para disfrutar en la Finca el Progreso.
        </p>

        <div class="reservation-form-card">
            <form class="reservation-form">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Fecha de llegada</label>
                        <mat-form-field appearance="outline" class="date-field">
                            <input matInput [matDatepicker]="pickerLlegada" [matDatepickerFilter]="filtrarFechas"
                                id="llegada" placeholder="dd/mm/aaaa" readonly>
                            <mat-datepicker-toggle matIconSuffix [for]="pickerLlegada"></mat-datepicker-toggle>
                            <mat-datepicker #pickerLlegada></mat-datepicker>
                        </mat-form-field>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Fecha de salida</label>
                        <mat-form-field appearance="outline" class="date-field">
                            <input matInput [matDatepicker]="pickerSalida" [matDatepickerFilter]="filtrarFechas"
                                id="salida" placeholder="dd/mm/aaaa" readonly>
                            <mat-datepicker-toggle matIconSuffix [for]="pickerSalida"></mat-datepicker-toggle>
                            <mat-datepicker #pickerSalida></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group full-width">
                        <label class="form-label">Huéspedes</label>
                        <mat-form-field appearance="outline" class="select-field">
                            <mat-select id="huesped" [(value)]="huespedesSeleccionados"
                                (selectionChange)="onHuespedesChange()" placeholder="2 personas">
                                <mat-option *ngFor="let num of numeroHuespedes" [value]="num">
                                    {{num}} {{num ===1 ? 'persona' : 'personas'}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>

                <button type="button" class="reserve-button" (click)="redirectToReserva()" [disabled]="cargando">
                    <mat-icon *ngIf="!cargando" class="button-icon-mat">event_available</mat-icon>
                    <mat-icon *ngIf="cargando" class="button-icon-mat spinner-icon">refresh</mat-icon>
                    {{ cargando ? 'Verificando...' : 'Reservar' }}
                </button>

                <div *ngIf="errorMessage" class="error-message">
                    {{errorMessage}}
                </div>
            </form>
        </div>
    </div>
</section>


<section class="finca-info-section" #infoSection>
    <img src="assets/images/Estacionamiento.webp" alt="Fondo Info" class="info-background">
    <div class="info-overlay"></div>
    <div class="info-content">
        <div class="info-header">
            <p class="info-label">
                <span class="decorative-line-side"></span>
                Tranquilidad
                <span class="decorative-line-side"></span>
            </p>
            <h2 class="info-title">Disfruta de una experiencia única en nuestra finca</h2>
            <div class="info-decorative-line"></div>
            <p class="info-description">
                Nuestro diseño combina comodidad y funcionalidad para brindarte la mejor experiencia
                de alojamiento rural. Perfecta para descansar y conectar con la naturaleza.
            </p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <img src="assets/logos/Reservas.svg" alt="Calendario" class="feature-icon-img">
                </div>
                <h3 class="feature-card-title">Selección de Fechas</h3>
                <p class="feature-card-description">Elige fácilmente tus fechas de llegada y salida.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <img src="assets/logos/Familiar.svg" alt="Huéspedes" class="feature-icon-img">
                </div>
                <h3 class="feature-card-title">Capacidad de Huéspedes</h3>
                <p class="feature-card-description">Acomoda hasta <span class="highlight">{{animatedGuestCount + 25}}</span>
                huéspedes cómodamente.</p>
            </div>

            <div class="feature-card">
                <div class="feature-icon-wrapper">
                    <img src="assets/logos/Baño.svg" alt="Búsqueda" class="feature-icon-img">
                </div>
                <h3 class="feature-card-title">Búsqueda Fácil</h3>
                <p class="feature-card-description">Encuentra tu escapada perfecta con nuestro sistema intuitivo.</p>
            </div>
        </div>
    </div>
</section>